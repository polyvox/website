<!DOCTYPE html>
<html>
  <head>
    <title>polyvox</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="./bower_components/webcomponentsjs/webcomponents-lite.min.js"></script>
    <link href='http://fonts.googleapis.com/css?family=Roboto+Condensed:300italic,400italic,700italic,400,300,700' rel='stylesheet' type='text/css'>
    <link rel="import" href="./bower_components/paper-styles/paper-styles.html">
    <link rel="import" href="./bower_components/paper-drawer-panel/paper-drawer-panel.html">
    <link rel="import" href="./bower_components/paper-header-panel/paper-header-panel.html">
    <link rel="import" href="./bower_components/paper-menu/paper-menu.html">
    <link rel="import" href="./bower_components/paper-item/paper-item.html">
    <link rel="import" href="./bower_components/paper-item/paper-item-body.html">
    <link rel="import" href="./bower_components/paper-toolbar/paper-toolbar.html">
    <link rel="import" href="./bower_components/paper-material/paper-material.html">
    <link rel="import" href="./bower_components/paper-icon-button/paper-icon-button.html">
    <link rel="import" href="./bower_components/paper-button/paper-button.html">
    <link rel="import" href="./bower_components/iron-icons/iron-icons.html">
    <link rel="import" href="./bower_components/iron-icons/hardware-icons.html">
    <link rel="import" href="./bower_components/iron-icons/av-icons.html">
    <link rel="import" href="./bower_components/iron-icons/social-icons.html">
    <link rel="import" href="./bower_components/iron-pages/iron-pages.html">
    <link rel="import" href="./components/polyvox-rss.html">
    <link rel="import" href="./components/polyvox-html.html">
    <link rel="import" href="./components/polyvox-podcast-card.html">
    <style is="custom-style">
      html, body {
        height: 100%;
        font-family: 'Roboto', Helvetica, Arial, sans-serif;
        background-color: var(--paper-grey-300);
      }

      header, h1, h2, h3, h4, h5, h6 {
        font-family: 'Roboto Condensed', Helvetica, Arial, sans-serif;
      }

      a {
        text-decoration: none;
      }

      .drawer {
        background-color: var(--paper-grey-100);
        border-right: 1px solid var(--paper-grey-400);
      }

      .drawer .paper-header {
        padding: 1em;
        border-bottom: 1px solid var(--paper-grey-300);
        text-align: center;
      }

      .main .paper-header .title {
        font-size: 38px;
        font-family: 'Roboto Condensed', Helvetica, Arial, sans-serif;
      }

      img.logo {
        width: auto;
        height: 100%;
      }

      .banner {
        background-color: var(--paper-green-200);
        margin: 0;
        padding: 0.5em;
        text-align: center;
        font-size: 48px;
      }

      #menu-button {
        margin: 12px 0 0 12px;
      }

      #start-page, #about, #podcast-list {
        padding: 1em 4em;
      }

      @media screen and (max-width: 640px) {
        #start-page, #about, #podcast-list {
          padding: 1em 1em;
        }
      }

      @media screen and (max-width: 320px) {
        #start-page, #about, #podcast-list {
          padding: 0;
        }
      }

      #latest {
        background-color: white;
        max-width: 640px;
        min-width: 300px;
        margin: auto;
      }

      .poly-img {
        max-width: 100%;
        height: auto;
        display: block;
      }

      .card-body {
        padding: 0.5em 2em;
      }

      .hidden {
        display: none;
      }

      .latest-title {
        margin-bottom: 0;
        margin-top: 0;
      }

      .latest-subtitle {
        margin-bottom: 1em;
      }

      .publication-date {
        margin-top: 0;
      }

      .episode-number {
        margin-bottom: 0;
      }

      .slightly-smaller {
        --iron-icon-width: 18px;
        --iron-icon-height: 18px;
      }

      .who-icon {
        --iron-icon-width: 180px;
        --iron-icon-height: 180px;
        transition: width 0.5s;
        transition: height 0.5;
      }

      @media screen and (max-width: 800px) {
        .who-icon {
          width: 60px;
          height: 60px;
        }
      }

      .blue {
        background-color: var(--paper-blue-800);
        color: white;
      }

      .red {
        background-color: var(--paper-red-800);
        color: white;
      }

      .orange {
        background-color: var(--paper-orange-800);
        color: white;
      }

      .who-card {
        background-color: white;
        margin: auto;
        margin-bottom: 2em;
        max-width: 640px;
        min-width: 300px;
      }

      .who-card-about {
        padding: 0.5em 1em;
      }

      polyvox-podcast-card {
        max-width: 640px;
        min-width: 300px;
        margin: auto;
        margin-bottom: 2em;
      }

      paper-item {
        cursor: pointer;
      }

      paper-button {
        color: var(--paper-blue-800);
      }

      paper-menu {
        --paper-menu-background-color: var(--paper-grey-100);
      }

      paper-toolbar {
        --paper-toolbar-background: transparent;
      }
    </style>
  </head>
  <body class="fullbleed" unresolved>
    <template is="dom-bind">
      <paper-drawer-panel id="drawer-panel">
        <paper-header-panel class="drawer" mode="seamed" drawer>
          <div class="paper-header">
            <a href="./" id="home-link">
              <img class="logo" src="./polyvox-black.svg">
            </a>
          </div>
          <paper-menu id="card-menu">
            <paper-item id="who-link">
              <paper-item-body two-line>
                <div>who</div>
                <div secondary>the people behind the voices</div>
              </paper-item-body>
            </paper-item>
            <paper-item id="podcasts-link">
              <paper-item-body two-line>
                <div>podcasts</div>
                <div secondary>listen to our conversations</div>
              </paper-item-body>
            </paper-item>
          </paper-menu>
        </paper-header-panel>
        <paper-header-panel class="main" mode="waterfall" main>
          <div>
            <paper-icon-button id="menu-button" class="layout" icon="menu" paper-drawer-toggle></paper-icon-button>
          </div>
          <iron-pages id="card-stack" selected="0">
            <div id="start-page">
              <paper-material id="latest">
                <h1 class="banner">THE NEWEST PODCAST</h1>
                <img class="poly-img" src="[[ latest.itunes_image.@href ]]">
                <div class="card-body">
                  <h3 class="episode-number">Episode #<span>[[ latest.number ]]</span></h3>
                  <h1 class="latest-title">[[ latest.title ]]</h1>
                  <h2 class="publication-date">[[ latest.formattedPubDate ]]</h2>
                  <div class="latest-subtitle">[[ latest.description ]]</div>
                  <div class="layout horizontal end-justified">
                    <paper-button>
                      <iron-icon icon="hardware:cast" class="slightly-smaller"></iron-icon>
                      Listen to this podcast
                    </paper-button>
                    <div class="hidden">[[ latest.enclosure.@url ]]</div>
                  </div>
                  <div class="layout horizontal end-justified">
                    <paper-button>
                      <iron-icon icon="hardware:cast-connected" class="slightly-smaller"></iron-icon>
                      Subscribe to the podcast
                    </paper-button>
                    <div class="hidden">[[ channel.subscribeLink ]]</div>
                  </div>
                  <div class="layout horizontal end-justified">
                    <paper-button>
                      Subscribe from iTunes
                    </paper-button>
                    <div class="hidden">https://itunes.apple.com/us/podcast/polyvox/id1007515263</div>
                  </div>
                </div>
              </paper-material>
            </div>
            <div id="about">
              <paper-material class="who-card layout horizontal">
                <div class="blue self-stretch layout horizontal center-center">
                  <iron-icon icon="account-circle" class="who-icon blue"></iron-icon>
                </div>
                <div class="flex who-card-about">
                  <h1>Heather</h1>
                  <p>
                    Heather is both coworker and friend to Curtis and Bryan.
                    She lives in Houston but retreats to the Caribbean
                    whenever she can. Her hobbies include scuba diving, bike
                    riding, writing, reading, and binge watching cable series.
                    She recently completed growing out her bangs. She loves
                    dogs and visits her favorite macaw, Peco, regularly.
                  </p>
                </div>
              </paper-material>
              <paper-material class="who-card layout horizontal">
                <div class="red self-stretch layout horizontal center-center">
                  <iron-icon icon="av:mic" class="who-icon red"></iron-icon>
                </div>
                <div class="flex who-card-about">
                  <h1>Bryan</h1>
                  <p>
                    Bryan is a long time software developer. He absolutely
                    loves creating things, but is terrible at finishing them.
                    Luckily, he has surrounded himself with people who are
                    amazing at finishing things, but terrible at creating
                    them. It's a wonderfully healthy relationship. He has won
                    the Nobel Prize twice and invented air multiple times.
                    He's currently the Founder of Amazingness here at polyvox.
                  </p>
                </div>
              </paper-material>
              <paper-material class="who-card layout horizontal">
                <div class="orange self-stretch layout horizontal center-center">
                  <iron-icon icon="cloud-circle" class="who-icon orange"></iron-icon>
                </div>
                <div class="flex who-card-about">
                  <h1>Curtis</h1>
                  <p>
                    During the first years of university, Curtis tutored other
                    students in mathematics. They had a dedicated center for
                    tutoring; his coworkers would often bring in snacks to
                    share amongst themselves. One day, Curtis noticed a bag of
                    caramel-covered popcorn cakes. He grabbed one out of the
                    bag and started gnoshing on it as he walked to the WC. As
                    he arrived to do his business, with the last bite in hand,
                    he felt a tickle on his fingers. He looked down and saw
                    the remainder of the popcorn cake covered in ants that,
                    trying to escape his gaping maw, had abandoned the food
                    source for his hand. He looked at the ants, at the last
                    bite of popcorn cake, the ants, and popped the remaining
                    bite into his mouth.
                  </p>
                </div>
              </paper-material>
            </div>
            <div id="podcast-list">
              <template is="dom-repeat" items="{{ items }}">
                <polyvox-podcast-card item="{{ item }}"></polyvox-podcast-card>
              </template>
            </div>
          </iron-pages>
        </paper-header-panel>
      </paper-drawer-panel>
      <polyvox-rss id="rss" channel="{{ channel }}" items="{{ items }}" first="{{ latest }}"></polyvox-rss>
    </template>
    <script>
      window.addEventListener('WebComponentsReady', function () {
        var drawerPanel = document.getElementById('drawer-panel');
        document.getElementById('home-link').addEventListener('click', function (e) {
          e.preventDefault();
          e.stopPropagation();
          document.getElementById('card-stack').selected = 0;
          document.getElementById('card-menu').select(null);
          drawerPanel.closeDrawer();
        });
        document.getElementById('who-link').addEventListener('click', function (e) {
          document.getElementById('card-stack').selected = 1;
          drawerPanel.closeDrawer();
        });
        document.getElementById('podcasts-link').addEventListener('click', function (e) {
          document.getElementById('card-stack').selected = 2;
          drawerPanel.closeDrawer();
        });
      });
      document.body.addEventListener('click', function (e) {
        var target = e.target;
        while (target && (target.tagName || '').toLowerCase() !== 'paper-button') {
          target = target.parentNode;
        }
        if (target) {
          while(target && (!target.tagName || target.tagName.toLowerCase() !== 'div')) {
            target = target.nextSibling;
          }
          location.href = target.innerHTML;
        }
      });
    </script>
  </body>
</html>
